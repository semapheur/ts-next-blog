---
title: 'Set Theory'
subject: 'Mathematics'
showToc: true
---

# Set theory

<MathBox title='Set' boxType='definition'>
A set is a collection of distinct objects; the objects are called the elements of the set. Given a set $S$, stating that an element $x$ is contained in $S$ is denoted $x\in S$. The opposite case, i.e. $x$ is not contained in $S$, is denoted $x\notin S$.

By definition, a set is completely determined by its elements; thus two sets $A$ and $B$ are equal if and only if they have the same elements.

A set containing set elements is called a collection or family of sets.
</MathBox>

<MathBox title='Pairwise disjoint collection' boxType='definition'>
A collection of sets $\mathcal{A} = (A_i)_{i\in I}$ for an index set $I$ is pairwise disjoint if the intersection of any two sets in $\mathcal{A}$ is empty

$$
  A_i \cap A_j = \emptyset \quad i\neq j
$$
</MathBox>

<MathBox title='Partition' boxType='definition'>
A partition of a set $A$ is a set of non-empty subsets of $S$ such that every element $x\in S$ is in exactly one of these subsets, i.e. $S$ is a disjoint union of the subsets. Equivalently, a collection of sets $\mathcal{A}$ is said to partition a set $S$ if the collection $\mathcal{A}$ is pairwise disjoint and

$$
  \bigcup \mathcal{A} = S
$$

The sets in $\mathcal{A}$ are said to cover $S$. 
</MathBox>

<MathBox title='Accumulation point' boxType='definition'>
A point $p\in D$ is called an accumulation point of the set $M\subseteq D$ if for all open sets $U$ with $p\in U$, then $U\setminus\{p\}\cap M \neq\emptyset$.
</MathBox>

## Subsets
<MathBox title='Subset' boxType='definition'>
If $A$ and $B$ are sets, then $A$ is a subset of $B$ if every element of $A$ is also an element of $B$. Equivalently $B$ is a superset of $A$.

$$
  A \subset B \iff \forall x\in A \implies x\in B
$$

If $A\subseteq B$ and $A\neq B$, then $A$ is a strict (proper) subset of $B$, denoted $A\subset B$. Equivalently, $B$ is a strict superset of $A$, denoted $B\supset A$.
</MathBox>

<MathBox title='Properties of subsets' boxType='proposition'>
If $A$, $B$ and $C$ are subsets of a set $S$. Then the following properties hold
1. Reflexivity: $A\subseteq A$
2. Anti-symmetry: If $A\subseteq B$ and $B\subseteq A$ then $A = B$
3. Transitivity: If $A\subseteq B$ and $B\subseteq C$ then $A\subseteq C$
</MathBox>

## Set operations
- Equality: $A = B$ if and only if $\forall x: x\in A \iff x \in B$.
- Subset: the set $A$ is a subset of $B$, denoted $A \subseteq B$ if and only if $\forall x: x\in A \implies x \in B$
- Power set (set of all subsets): $P(A) := \{ X \mid X\subseteq A \}$
- Union (set of combined elements): $A \cup B := \left\{ x \mid x \in A \lor x \in B \right\}$
- Big union: $\bigcup_{i\in I} A_i := \left\{ x \mid \exists i\in I : x \in A_i \right\}$
- Intersection (set of common elements): $A \cap B := \left\{ x \mid x \in A \land x \in B \right\}$
- Big intersection: $\bigcap_{i\in I} A_i := \left\{ x \mid \forall i\in I : x \in A_i \right\}$
- Difference: $A \setminus B := \left\{ x \mid x \in A \land x \notin B \right\}$
- Symmetric difference: $A\triangle B := (A\cup B)\setminus(A\cap B) = (A\setminus B)\cup(B\setminus A)$
    - $(A\triangle B)^c = (A\cap B)\cup\left(A^c\cap B^c\right) = \left(A^c \cup B \right)\cap\left(B^c \cup A \right)$
- Complement: $\bar{A} = A^c := \left\{ x \mid x \notin A \right\}$
- Cartesian product: $A \times B := \left\{ (a, b) \mid a \in A \land b \in B \right\}$

<MathBox title='Subset equivalence' boxType='proposition'>
If $A\subseteq B$ the following are equivalent
1. $\bar{B}\subseteq\bar{A}$
2. $A\cup B = B$
3. $A\cap B = A$
4. $A\setminus B = \emptyset$
</MathBox>

<MathBox title='Difference equivalence' boxType='proposition'>
Let $A$ and $B$ be subsets of a universal set $S$. Then the following are equivalent

1. $B\setminus A = B\cap\bar{A}$
2. $\bar{A} = S\setminus A$
3. $A\cap B = A\setminus (A\setminus B)$
4. $A\cup B = S\setminus\{(S\setminus A)\setminus [(S\setminus A)\setminus(S\setminus B)] \}$
</MathBox>

## Number sets
- Empty set: $\emptyset := \{ \}$
- Natural numbers: $\mathbb{N} := \{ i \}_{i=1}^\infty$
- Natural numbers including zero: $\mathbb{N}_0 := \{ i \}_{i=0}^\infty$
- Integers: $\mathbb{Z} := \{ i \}_{i=-\infty}^\infty$
- Dyadic rationals $\mathbb{D} = \left\{\frac{j}{2^n} \mid j\in\mathbb{Z} \; n\in\mathbb{N} \right\}$
- Rational numbers $\mathbb{Q} = \left( \mathbb{Z}\times\mathbb{Z}\setminus\{0\} \right) / \sim \;= \left\{ \frac{a}{b} := [(a, b)]_\sim \mid (a, b) \in \mathbb{Z}\times\mathbb{Z}\setminus\{0\} \right\}$ with $\sim \;:= (a, b) \sim (c, d) \iff ad = cb$
- Algebraic numbers: $\mathbb{A} = \left\{x\in\mathbb{R} \mid p(x) = 0 \right\}$ for some polynomial $p$ with integer coefficients
- Real number: $\mathbb{R}$
    - Irrational numbers: $\mathbb{R}\setminus\mathbb{Q}$
    - Transcedental numbers: $\mathbb{R}\setminus\mathbb{A}$
- Complex numbers: $\mathbb{C}$

Note that $\mathbb{N}\subset\mathbb{N}_0\subset\mathbb{Z}\subset\mathbb{D}\subset\mathbb{Q}\subset\mathbb{A}\subset\mathbb{R}$.

## Cardinality

<MathBox title='Cardinality' boxType='definition'>
The cardinality of a set $S$ is the number of elements in $S$, and is denoted $|S|$ or $#(S)$. If $S$ is a finite set with $n$ elements, then

$$
  |S| = n
$$
</MathBox>

<MathBox title='Cardinality rules' boxType='proposition'>
Suppose $S$ is finite set.
1. Addition rule: if $\{A_i\}_{i=1}^{n\in\mathbb{N}}$ is a collection of disjoint subsets of $S$ then $\left|\bigcup_{i=1}^n A_i \right| = \sum_{i=1}^n \left|A_i\right|$
2. Complement rule: $\left|A^c\right| = |S| - |A|$ for $A\subseteq S$
3. Difference rule: $|B\setminus A| = |B| - |A\cap B|$
4. Proper difference rule: if $A\subseteq B$ then $|B\setminus A| = |B| - |A|$
5. If $A\subseteq B$ then  $|A|\leq |B|$
6. Boole's inequality: if $\{A_i\}_{i=1}^{n\in\mathbb{N}}$ is a collection of subsets of $S$ then $\left|\bigcup_{i=1}^n A_i \right| \leq \sum_{i=1}^n \left|A_i\right|$
7. Bonferroni's inequality: if $\{A_i\}_{i=1}^{n\in\mathbb{N}}$ is a collection of subsets of $S$ then $\left|\bigcap_{i=1}^n A_i \right| \geq |S| - \sum_{i=1}^n \left(|S| - |A|\right)
8. Inclusion-exclusion formula: if $\{A_i\}_{i\in I}$ is a collection subsets of $S$ with $|I| = n$, then $\left|\bigcup_{i\in I} A_i \right| = \sum_{k=1}^n (-1)^{k-1}\left( \sum_{J\subseteq I,\, |J| = k} \left|\bigcap_{j\in J} A_j \right|\right)$
  - If $A$ and $B$ are subsets of $S$, then $|A\cup B| = |A| + |B| - |A\cap B|$
9. Multiplication rule: If $S_i$ is a set with $n_i$ elements for $\{i\}_{i=1}^{k\in\mathbb{N}}, then $\left| \prod_{i=1}^k S_i \right| = \prod_{i=1}^k n_i$
  - IF $S$ is a set with $n$ elements, then $\left|S^k\right| = n^k$
</MathBox>

<MathBox title='Theorem' boxType='theorem'>
Let $S$ and $T$ be sets. The cardinality of the set of all mappings from $S$ to $T$, denoted $T^S$, is

$$
    \left|T^S \right| = |T|^{|S|}
$$
</MathBox>

<MathBox title='Cardinality partial order' boxType='definition'>
Suppose that $\mathcal{S}$ is a collection of sets. The cardinality partial order on $\mathcal{S}$ is a reflexive and transitive relation $\leq$ defined by $A\leq B$ if and only if there is an injection $f:A\to B$ if and only if there is a surjection $g:B\to A$. If $A\leq B$ and $A\sim B$, then we write $A < B$.

<details>
<summary>Proof</summary>

To show reflexivity of $\leq$, recall that the identity function $\mathrm{id}_A: A\to A$ for $A\in\mathcal{S}$ is injective (and also surjective), so $A\leq A$. To show transitivity of $\sim$, suppose that $A,B,C\in\mathcal{S}$ and that $A\leq B$ and $B\leq C$. Then there exists injections $f:A\to B$ and $g:B\to C$, and hence $g\circ f: A\to C$ is also injective, so $A\leq C$.
</details>
</MathBox>

<MathBox title='SchrÃ¶der-Bernsteim theorem' boxType='theorem'>
If $A\leq B$ and $B\leq A$, then $A\sim B$, i.e. there is a bijection $f:A\to B$.

<details>
<summary>Proof</summary>

Let $f:A\to B$ be an injective function from $A$ into $B$ and let $g:B\to A$ be an injective function from $B$ into $A$. We want to use these functions to create a bijective function from $A$ to $B$. For this, we make the following definitions. The *descendants* of an element $a\in A$ are the elements obtained by repeated alternate applications of the the functions $f$ and $g$, i.e.

$$
  f(a), g\circ f(a), f\circ g \circ f (a),\dots 
$$

If $b$ is a descendant of $a$ then $a$ is an ancestor of $b$. Descendants and ancestors of elements of $B$ are defined similarly.

By tracing an element's ancestry to its root, there are three possibilities: the element originates in $A$, or in $B$, or it has no point of origin. Accordingly, we can write $A$ as the union of three disjoint sets

$$
\begin{align*}
  A_A =& \{a\in A \mid a \text{ originates in } A\} \\
  A_B =& \{a\in A \mid a \text{ originates in } B\} \\
  A_\infty =& \{a\in A \mid a \text{ has no originator } \} \\
\end{align*}
$$

Similarly, $B = B_A \cup B_B \cup B_\infty$. 

The restriction $f|_{A_A}:A_A \to B_A$ is a bijection. To see this, note that that if $b\in B_A$ then $b$ originated in $A$ and therefore must have the form $f(a)$ for some $a\in A$. However, $b$ and its ancestor $f(a)$ have the same point of origin and so $b\in B_A$ implies $a\in S_A$. Thus, $f|_{A_A}$ is surjective and hence bijective. With similar arguments, the functions $(g|_{B_B})^{-1}:A_B \to B_B$ and $f|_{A_\infty}: A_\infty\to B_\infty$ are also bijections. Combining these bijections, gives a bijection between $A$ and $B$. Hence, $|A| = |B|$.
</details>
</MathBox>

<MathBox title='Proposition' boxType='proposition'>
For a set $S$, then $S < \mathcal{P}(S)$.
</MathBox>

### Infinity
<MathBox title='Cardinality terms' boxType='theorem'>
A set $A$ is called
1. finite if $A\sim \mathbb{N}_k = {i}_{i=0}^{k\in\mathbb{N}}$, in which case $k$ is the cardinality of $A$, i.e. $|A| = k$
2. infinite if $A$ is not finite
3. countably infinite if $A\sim\mathbb{N}$
4. countable if $A$ is finite or countably infinite
5. uncountable if $A$ is not countable
</MathBox>

<MathBox title='Infinite cardinality' boxType='theorem'>
The cardinality of the natural numbers is denoted $\aleph_0$.

$$
  |\mathbb{N}| = |\mathbb{Z}| = |\mathbb{Q}| = \aleph_0
$$
</MathBox>

<MathBox title='Properties of subsets of infinite sets' boxType='proposition'>
The following properties hold for infinite sets
1. If $S$ is an infinite set, then $S$ has a countable infinite subset
2. A set $S$ is infinite if and only if $S$ is equivalent to a proper subset of $S$
3. If $S$ is an infinite set and $B$ is a countable set, $S\sim S\cup B$
4. If $S$ is countably infinite and $A\subseteq S$, then $A$ is countable
</MathBox>

<MathBox title='Properties of countable sets' boxType='proposition'>
The following properties hold for countable sets
1. If $S$ is countably infinite and $A\subseteq S$, then $A$ is countable
1. If $A_i$ is a countable set for each $i$ in a countable set $I$, then $\bigcup_{i\in I} A_i$ is countable
2. If $A$ and $B$ are countable sets, then $A\times B$ is countable
</MathBox>

<MathBox title='Cardinality of subsets' boxType='proposition'>
Suppose that $A\subseteq B$, then
1. If $B$ is finite, then $A$ is finite
2. If $A$ is infinite, then $B$ is infinite
3. If $B$ is countable, then $A$ is countable
4. If $A$ is uncountable, then $B$ is uncountable
</MathBox>

<MathBox title='Cardinality of functions' boxType='proposition'>
Suppose that $f:A\to B$ is injective, then
1. If $B$ is finite, then $A$ is finite
2. If $A$ is infinite, then $B$ is infinite
3. If $B$ is countable, then $A$ is countable
4. If $A$ is uncountable, then $B$ is uncountable

Suppose that $f:A\to B$ is surjective, then
1. If $A$ is finite, then $B$ is finite
2. If $B$ is infinite, then $A$ is infinite
3. If $A$ is countable, then $B$ is countable
4. If $B$ is uncountable, then $A$ is uncountable

<details>
<summary>Proof</summary>

**Injection properties**
Note that an injection $f:A\to B$ maps $A$ one-to-one onto $f(A)$, so $A\sim f(A)$ and $f(A)\subseteq B$. 
</details>
</MathBox>

## Power set
<MathBox title='Power set' boxType='definition'>
Suppose $S$ is a set. The power set of $S$, denoted $\mathcal{P}(S)$, is the set of all subsets of $S$.

$$
  \mathcal{P} := \left{X \mid X\subseteq S \right\}
$$
</MathBox>

<MathBox title='Proposition' boxType='proposition'>
If $S$ is a set then $\mathcal{P}(S)\sim\{0, 1\}^S$. Suppose $S$ has cardinality $|S| = n \in\mathbb{N}$. Then the cardinality of $\mathcal{P}(S)$ is

$$
  |\mathcal{P(S)}| = 2^{|S|} = 2^n
$$

This property is the reason for the alternative notation $P(S) = 2^S$ of a power set.

<details>
<summary>Proof</summary>

To prove the equivalence $\mathcal{P}(S)\sim \{0, 1\}^S$, we need to find a bijection $f:\mathcal{P}(S)\to\{0, 1\}^S$. Recall that the indicator function $\mathcal{1}_A$ maps from some set $A$ into $\{0, 1\}$, so that $\{0, 1\}^S$ is the set of all indicator functions for $S$. Suppose $A\in\mathcal{P}(S)$ is a subset of $S$ and consider the function $f:\mathcal{P}(S)\to\{0, 1\}^S$ given by $f(A) = \mathbf{1}_A$. If $A,B\in\mathcal{P}(S)$ and $\mathbf{1}_A = \mathbf{1}_B$, then $A = B$, so $f$ is injective. If $g\in\{0, 1\}^S$, then $g = \mathbf{1}_A$ with $A = \{x\in S \mid f(x) = 1\}$, so $f$ is surjective. Hence $f:\mathcal{P}(S)\to\{0, 1\}^S$ is a bijection. 
</details>
</MathBox>

<MathBox title="Cantor's theorem" boxType='theorem'>
If $S$ is a set then $|S| \leq |\mathcal{P}(S)|$.

<details>
<summary>Proof</summary>

The function $\iota:S\to\mathcal{P}(S)$ defined by $\iota(s) = \{s\}$ is an injection from $S$ to $\mathcal{P}(S)$ and so $|S|\leq|\mathcal{P}(S)|$. It remains to show that no injection $f:S\to\mathcal{P}(S)$ can be surjective.

Let $X = \{ s\in S \mid s\notin f(s) \}\in\mathcal{P}(S)$. We claim that $X\notin f[\mathcal{P}(S)]$. Suppose that $X = f(x)$ for some $x\in S$. Then if $x\in X$, we have by the definition of $X$ that $x\notin X$. On the other hand, if $x\notin X$ we have again by the definition of $X$ that $x\in X$. This contradiction implies that $X\notin f[\mathcal{P}(S)]$ and so $f$ is not surjective.
</details>
</MathBox>

## Combinatorics

### Permutations
<MathBox title='Permutation' boxType='definition'>
Suppose that $D$ is a set with $n\in\mathbb{N}$ elements. A permutation of length $k\in\{0, 1,\dots, n\}$ from $D$ is an ordered sequence of $k$ distinct elements of $D$, i.e. a sequence of the form 

$$
  \left(x_i \mid x_i\in D,\; $x_i\neq x_j$\; \forall $i\neq j$ \right)_{i=1}^{k}$
$$

Statistically, a permutation of length $k$ from $D$ corresponds to an ordered sample of size $k$ chosen without replacement from the population $D$.
</MathBox>

<MathBox title='Number of permutations' boxType='proposition'>
The number of permutations of length $k$ from a set $D$ with $n$ elements is

$$
  n^{(k)} = \frac{n!}{(n - k)!}
$$

In the case $k = n$ this becomes

$$
  n^{(n)} = n!
$$
</MathBox>

### Combinations
<MathBox title='Combination' boxType='definition'>
Suppose that $D$ is a set with $n\in\mathbb{N}$ elements. A combination of length $k\in\{0, 1,\dots, n\}$ from $D$ is an unordered subset of $k$ distinct elements of $D$, i.e. a subset of the form 

$$
  \left{x_i \mid x_i\in D,\; $x_i\neq x_j$\; \forall $i\neq j$ \right}_{i=1}^{k}$
$$

Statistically, a combination of length $k$ from $D$ corresponds to an unordered sample of size $k$ chosen without replacement from the population $D$.
</MathBox>

<MathBox title='Number of combination' boxType='proposition'>
The number of combinations of length $k$ from a set $D$ with $n$ elements is

$$
  \binom{n}{k} = \frac{n^{(k)}}{k!} = \frac{n!}{k!(n - k)!}
$$

Where $\binom{n}{k}$ is the binomial coefficient.
</MathBox>

<MathBox title='Binomial theorem' boxType='theorem'>
If $a, b\in\mathbb{R}$ and $n\in N$, then

$$
  (a + b)^n = \sum_{k=0}^n \binom{n}{k}a^k b^{n - k}
$$
</MathBox>

## Cylinder set
<MathBox title='Cylinder set' boxType='definition'>
Given a collection $S$ of sets, consider the Cartesian product $X = \prod_{Y\in S} Y$ of all sets in the collection. The canonical projection corresponding to some $Y\in S$ is the function $p_Y: X\to Y$ that maps every element of the product to its $Y$ component. A cylinder set is a preimage of a canonical projection or finite intersection of such preimages

$$
  \bigcap_{i=1}^n p_{Y_i}^{-1} (A_i) = \left\{ x = \left( x_{Y_i} \right)_{i=1}^n \in X \mid x_{Y_i}\in A_i \subseteq Y_i \right\}
$$

for any choice of $n$.
</MathBox>

## Set identities
Suppose $A$, $B$ and $C$ are subsets of a universal set $S$, and that $\mathcal{A} = \{ A_i \}_{i\in I}$ is a collection of subsets over $S$ for some nonempty index set $I$. 

- Idempotent laws
$$
  A\cup A = A \quad A\cap A = A
$$
- Identity laws
$$
  A\cup\emptyset = A \quad A\cap S = A
$$
- Complement laws
$$
  A\cup \bar{A} = S \quad A\cap A^c = \emptyset
$$
- Commutativity
$$
  A\cup B = B\cup A \quad A\cap B = B\cap A
$$
- Associativity
$$
\begin{align*}
  (A \cup B) \cup C = A \cup (B \cup C) \\
  (A \cap B) \cap C = A \cap (B \cap C)
\end{align*}
$$
- Distributivity
$$
\begin{aligned}
  A \cap (B \cup C) &= (A \cap B) \cup (A \cap C) \\
  A \cup (B \cap C) &= (A \cup B) \cap (A \cup C)
\end{aligned}\quad
\begin{aligned}
  \left(\bigcup_{i\in I} A_i \right)\cap B &= \bigcup_{i\in I}\left(A_i \cap \right) \\
  \left(\bigcap_{i\in I} A_i \right)\cup B &= \bigcap_{i\in I}\left(A_i \cup \right) \\
\end{aligned}\quad
$$
- De Morgan's law (interchange of union an intersection under complementation): 
$$
\begin{align*}
  \left(\bigcup_{i\in I} A_i \right)^c &= \bigcap_{i\in I} A_i^c \\
  \left(\bigcap_{i\in I} A_i \right)^c &= \bigcup_{i\in I} A_i^c
\end{align*}
$$

## Product sets
<MathBox title='Ordered pair (Kuratowski)' boxType='definition'>
The characteristic property of an ordered pair is that $(a, b) = (c, d)$ if and only if $a = c$ and $b = d$. This property is satisfied by defining

$$
  (a, b) := \left\{ \{a\}, \{a, b\} \right\}
$$

<details>
<summary>Proof</summary>

If $(a, b) = (c, d)$ then $\left\{ \{a\}, \{a, b\} \right\} = \left\{ \{c\}, \{c, d\} \right\}$. In the case that $a = b$ we note that 

$$
  (a, b) = \left\{ \{a\}, \{a, b\} \right\} = \left\{ \{a\}, \{a, a\} \right\} = \left\{ \{a\}, \{a\} \right\} = \{\{a\}\}
$$

Thus, we must have $\{c\} = \{c, d\} = \{a\}$ and hence $c = d = a = b$. 

In the case that $a\neq b$ we must have $\{a\} = \{c\}$ and hence $c = a$. Suppose
- $\{c, d\} = \{a\}$ gives $c = d = a$ and $(c, d) = \{\{a\}\}$. Hence $\{a, b\} = \{a\}$ which forces $a = b$, contradicting $a\neq b$.
- $\{c\} = \{a, b\}$ gives $a = b = c$, contradicting $a\neq b$

Thus by contradiction, we must have $\{c, d\} = \{a, b\}$. Since $c = a$ and $a \neq b$ we must have $d = b$.

The converse is trivial: if $a = c$ and $b = d$ then $\{a\} = \{c\}$ and $\{a, b\} = \{c, d\}$ so $(a, b) = (c, d)$. 
</details>
</MathBox>

<MathBox title='Cartesian product' boxType='definition'>
The Cartesian product of a collection of sets $\{S_i\}_{i=1}^{n\in\mathbb{N}}$ is defined as

$$
  S_1 \times S_2 \times \dots S_n = \prod_{i=1}^n S_i = \left\{ \left( x_i \right)_{i=1}^n \mid x_i \in S_i \right\}
$$

Using functions, the Cartesian product of a collection of sets $\{S_i\}_{i\in I}$ indexed by the (possibly infinite) set $I$ can be defined as

$$
  \prod_{i\in I} S_i := \left\{ x: I\to\bigcup_{i\in I} S_i \middle| \forall i \in I: x(i)\in X_i \right\}
$$

The coordinates $x(i) \in S_i$ for each $i\in I$ are usually written $x_i$. The projection of $\prod_{i\in I} S_i$ to the $j$th coordinate is the function $p_j: \prod_{i\in I} S_i \to S_j$ defined by

$$
  p_j(x) = x(j)    
$$

If all the sets are equal, i.e. $S_i = S$ for each $i\in I$, then the Cartesian product set can be written compactly as $S^I$. 
</MathBox>

Consider the Cartesian product $P = S\times T$ and suppose that $A, B\subseteq S$ and $C, D\subseteq T$

- Distributivity
$$
\begin{aligned}
  A\times(C\cup D) &= (A\times C)\cup (A\times D) \\
  (A\cup B)\times C &= (A\times C)\cup(B\times C) \\
  A\times(C\setminus D) &= (A\times C)\setminus(A\times D)
\end{aligned}\quad
\begin{aligned}
  A\times(C\cap D) &= (A\times C)\cap (A\times D) \\
  (A\cap B)\times C &= (A\times C)\cap(B\times C) \\
  (A\setminus B)\times C &= (A\times C)\setminus(B\times C)
\end{aligned}
$$
- Product of unions
$$
  (A\cup B)\times(C\cup B) = (A\times C)\cup(A\times D)\cup(B\times C)\cup(B\times D)
$$
- Product of intersections
$$
  (A\cap B)\times(C\cap D) = (A\times C)\cap(B\times D)
$$
- Product of differences
$$
  (A\setminus B)\times(C\setminus D) = [(A\times C)\setminus(A\times D)]\setminus[(B\times C)\setminus(B\times D)] \\
  (A\setminus B)\times(C\setminus D) \subseteq (A\times C)\setminus(B\times D)
$$

<MathBox title='Cross sections and projections' boxType='definition'>
Suppose that $C\subseteq S\times T$, then we may define the following subsets of $C$

**Cross sections**
1. The cross section of $C$ in the first coordinate at $x\in S$ is $C_x = \{y\in T \mid (x, y)\in C\}\subseteq T$
2. The cross section of $C$ in the second coordinate at $y\in S$ is $C^y = \{x\in S \mid (x, y)\in C\}\subseteq S$

**Projections**
1. The projection of $C$ onto $T$ is $C_T = \{y\in T \mid (x, y)\in C\textrm{ for some }x\in S \}$
2. The projection of $C$ onto $S$ is $C^S = \{x\in S \mid (x, y)\in C\textrm{ for some }y\in T \}$

The projections are the unions of the appropriate cross sections
1. $C_T = \bigcup_{x\in S} C_x$
2. $C^S = \bigcup_{y\in T} C^y$
</MathBox>

<MathBox title='Proposition' boxType='proposition'>
Suppose that $C, D\subseteq S\times T$. The following properties hold for cross sections and projections

**Cross sections**
For $x\in S$ the following relations hold
1. $(C\cup D)_x = C_x \cup D_x$
2. $(C\cap D)_x = C_x \cap D_x$
3. $(C\setminus D)_x = C_x \setminus D_x$ 

The results for cross sections at $y\in T$ are analogous by symmetry.

**Projections**
1. $(C\cup D)_T = C_T \cup D_T$
2. $(C\cap D)_T \subseteq C_T \cap D_T$
3. $\left(C_T\right)^c \subseteq \left(C^c\right)_T$

The results for projections onto $S$ are analogous by symmetry.
</MathBox>

# Relations

<MathBox title='Relation' boxType='definition'>
Suppose $X$ and $Y$ are sets. A binary relation from $X$ to $Y$ is a subset of the product set $X\times Y$ where
1. the domain of $R$ is the set of first relation coordinates: $\mathrm{dom}(R) := \{ x\in X \mid (x, y)\in R,\; y\in Y \}$
2. the range of $R$ is the set of second relation coordinates: $\mathrm{ran}(R) := \{ y\in Y \mid (x, y)\in R,\; x\in X \}$

A relation $R$ from $X$ to $Y$ is usually denoted $xRy$ for $(x, y)\in R$.
</MathBox>

<MathBox title='Inverse relation' boxType='definition'>
If $R$ is a relation from $X$ to $Y$, the inverse of $R$ is the relation from $Y$ to $X$ defined by $R^{-1} := \{(y, x) \mid (x, y) \in R\}$
</MathBox>

<MathBox title='Restriction of a relation' boxType='definition'>
If $R$ is a relation on $S$ and $A\subseteq S$, then $R_A := R\cap (A\times A)$ is a relation on $A$, called the restriction of $R$ to $A$.
</MathBox>

<MathBox title='Composition of relations' boxType='definition'>
Suppose that $Q$ is a relation from $X$ to $Y$ and that $R$ is a relation from $Y$ to $Z$. The composition $Q\circ R$ is the relation from $X$ to $Y$ defined by (for $x\in X$ and $y\in Y$)

$$
  x(Q\circ R)z \iff \exists y\in Y : xQy \land yRz
$$
</MathBox>

<MathBox title='Operations on relations' boxType='definition'>
If $Q$ and $R$ are relations from $X$ to $Y$, then so are $Q\cup R$, $Q\cap R$ and $Q\setminus R$ defined by (for $x\in X$ and $y\in Y$)
1. $x(Q\cup R)y \iff xQy \lor xRy$
2. $x(Q\cap R)y \iff xQy \land xRy$
3. $x(Q\setminus R)y \iff xQy \neg xRy$
4. $Q\subseteq R: xQy \implies xRy$
</MathBox>

<MathBox title='Properties of relations' boxType='definition'>
Suppose $R$ is a relation on $S$. Then the following properties can be defined for $R$
1. $R$ is reflexive if $xRx$ for all $x\in S$. Otherwise $R$ is irreflexive
2. $R$ is symmetric if $xRy \implies yRx$ for all $x, y\in S$
3. $R$ is anti-symmetric if $\forall x, y\in S: xRy \land yRx \implies x = y$
4. $R$ is transitive if $\forall x, y, z\in S: xRy \land yRz \implies xRz$
</MathBox>

## Partial order

<MathBox title='Partial order' boxType='definition'>
A partial order on a set $S$ is a relation $\leq$ on $S$ that is reflexive, anti-symmetric, and transitive. The pair $(S, \leq)$ is called a partially ordered set, satisfying for all $x, y, z\in S$
1. reflexivity: $x\leq x$
2. anti-symmetry: $x\leq y \land y\leq x \implies x = y$
3. transitivity: $x\leq y \land y\leq z \implies x\leq z$

A partial order $\leq$ on $S$ is a total or linear order if for every $x, y\in S$ either $x\leq y$ or $y\leq x$. Any totally ordered subset of a partially ordered set $S$ is called a *chain* in $S$.
</MathBox>

<MathBox title='Ordering relations' boxType='definition'>
With the partial order $\leq$ on a set $S$, the following relations can be defined
1. $x\geq y \iff y\leq x$ (inverse of $\leq$)
2. $x < y \iff x\leq y \land x\neq y$ (strict/strong partial order)
3. $x > y \iff y \leq x$ (inverse of $<$)
4. $x \perp y \iff x\leq y \lor y\leq x$
5. $x\parallel y \iff \neg x\leq y \neg y\leq x$
</MathBox>

Note that $x\perp y$ means that $x$ and $y$ are related in partial order, while $x\parallel y$ means that $x$ and $y$ are unrelated. A total or linear order is a partial order in which there are no unrelated elements.

<MathBox title="Zorn's lemma" boxType='lemma'>
If $S$ is a partially ordered set in which every chain has an upper bound, then $S$ has a maximal element.
</MathBox>

### Extremal elements

<MathBox title='Extremal elements' boxType='definition'>
Consider a partially ordered set $(S, \leq)$. The following extremal elements on $A\subseteq S$ can be defined
1. $a\in A$ is the minimum element of $A$ if and only if $a\leq x$ for every $x\in A$, and is denoted $\min(A)$.
2. $a\in A$ is a minimal element of $A$ if and only if no $x\in A$ satisfies $x < a$.
3. $b\in A$ is the maximum element of $A$ if and only if $b\geq x$ for every $x\in A$, and is denoted $\max(A)$.
4. $b\in A$ is a maximal element of $A$ if and only if no $x\in A$ satisfies $x > b$.
</MathBox>

<MathBox title='Bounds' boxType='definition'>
Consider a partially ordered set $(S, \leq)$. The following bounds for $A\subseteq S$ can be defined
1. $s\in S$ is a lower bound for $A$ if and only if $s\leq x$ for every $x\in A$
2. the greatest lower bound or infimum of $A$, if it exists, is the maximum of the set of lower bounds of $A$
3. $t\in S$ is an upper bound for $A$ if and only if $t\geq x$ for every $x\in A$
4. the least upper bound or supremum of $A$, if it exists, is the minimum of the set of upper bounds of $A$
</MathBox>

<MathBox title='Proposition' boxType='proposition'>
Let $S$ be a set and consider the subset partial order $\subseteq$ on the power set $\mathcal{P}(S)$. Let $\mathcal{A}\subseteq\mathcal{P}(S)$ be a nonempty collection of subsets of $S$. Then
1. $\inf(\mathcal{A}) = \bigcap\mathcal{A}$
2. $\sup(\mathcal{A}) = \bigcup\mathcal{A}$ 

<details>
<summary>Proof</summary>

**(1)**: Note that $\bigcap\mathcal{A}\subseteq A$ for every $A\in\mathcal{A}$, and hence $\bigcap\mathcal{A}$ is a lower bound of $\mathcal{A}$. If $B$ is a lower bound of $\mathcal{A}$, then $B\subseteq A$ for every $A\in\mathcal{A}$, and hence $B\subseteq\bigcap\mathcal{A}$. Therefore $\bigcap\mathcal{A}$ is the greatest lower bound.

**(2)**: Note that $A\subseteq\bigcup\mathcal{A}$ for every $A\in\mathcal{A}$, and hence $\bigcap\mathcal{A}$ is an upper bound of $\mathcal{A}$. If $B$ is an upper bound of $\mathcal{A}$, then $A\subseteq B$ for every $A\in\mathcal{A}$, and hence $B\subseteq\bigcap\mathcal{A}$. Therefore $\bigcup\mathcal{A}$ is the least upper bound.
</details>
</MathBox>

<MathBox title='Fixed point theorem' boxType='theorem'>
Suppose that $(S, \leq)$ is a partially ordered set with the property that $\sup(A)$ exists for every $A\subset S$. If $f:S\to S$ is increasing, then $f$ has a fixed point.

<details>
<summary>Proof</summary>

Let $A = \{x\in S\mid x\leq f(x)\}$ and let $z = \sup(A)$. If $x\in A$, then $x\leq z$ so $x\leq f(x) \leq f(z)$. Hence $f(z)$ is an upper bound of $A$ so $z\leq f(z)$. However $f(z)\leq f(f(z))$, since $f$ is increasing, so $f(z)\in A$ and hence $f(z)\leq z$. Therefore $f(z) = z$ showing that $z$ is a fixed point of $f$.
</details>
</MathBox>

### Monotone sets and functions
<MathBox title='Monotone sets' boxType='definition'>
Consider a partially ordered set $(S, \leq)$. A subset $A\subseteq S$ is called monotone if it is increasing or decreasing, defined as follows (for $x, y\in S$)
1. $A$ is increasing if $x\in A \land x\leq y \implies y\in A$
2. $A$ is decreasing if $y\in A \land x\leq y \implies x\in A$
</MathBox>

<MathBox title='Monotone sequences of sets' boxType='definition'>
Let $S$ be a set. A sequence of subsets $(A_n \subseteq S)_{n\in\mathbb{N}}$ is called monotone if it is increasing or decreasing, defined as follows
1. $(A_n)_{n\in\mathbb{N}}$ is increasing if $A_n\subseteq A_{n+1}$ for every $n\in\mathbb{N}$, defining $\lim_{n\to\infty} A_n = \bigcup_{n\in\mathbb{N}} A_n$
2. $(A_n)_{n\in\mathbb{N}}$ is increasing if $A_{n+1}\subseteq A_{n}$ for every $n\in\mathbb{N}$, defining $\lim_{n\to\infty} A_n = \bigcap_{n\in\mathbb{N}} A_n$
</MathBox>

<MathBox title='Monotone functions' boxType='definition'>
Consider the partially ordered sets $\left(X, \leq_X\right)$ and $\left(Y, \leq_Y\right)$. A function $f:X\to Y$ is called monotone if it is increasing or decreasing, defined as follows (for $x, \tilde{x}\in X$)
1. $f$ is increasing if and only if $x\leq_X \tilde{x} \implies f(x)\leq_Y f(\tilde{x})$
2. $f$ is increasing if and only if $x\leq_X \tilde{x} \implies f(x)\geq_Y f(\tilde{x})$
</MathBox>

<MathBox title='Monotonicity properties of sequences of sets' boxType='proposition'>
Let $S$ be a set. The following properties hold for a sequence of subsets $(A_n \subseteq S)_{n\in\mathbb{N}}$:
1. The initial union $\bigcup_{i=1}^n A_i$ is increasing in $n\in\mathbb{N}$ and $\bigcup_{i=1}^\infty A_i = \lim_{n\to\infty}\bigcup_{i=1}^n A_i$
    a. The tail union $\bigcup_{i=n}^\infty A_i$ is increasing in $n\mathbb{N}$ 
2. The initial intersection $\bigcap_{i=1}^n A_i$ is decreasing in $n\in\mathbb{N}$ and $\bigcap_{i=1}^\infty A_i = \lim_{n\to\infty}\bigcap_{i=1}^n A_i$
    a. The tail intersection $\bigcap_{i=n}^\infty A_i$ is decreasing in $n\mathbb{N}$ 
</MathBox>

<MathBox title='Bounded limits of sequences of sets' boxType='definition'>
Let $S$ be a set. The following bounds can be defined for a sequence of subsets $(A_n \subseteq S)_{n\in\mathbb{N}}$:
1. $\lim\sup_{n\to\infty} A_n = \lim_{n\to\infty}\bigcup_{i=n}^\infty = \bigcap_{n=1}^\infty\bigcup_{i=n}^\infty A_i$
2. $\lim\inf_{n\to\infty} A_n = \lim_{n\to\infty}\bigcap_{i=n}^\infty = \bigcup_{n=1}^\infty\bigcap_{i=n}^\infty A_i$
</MathBox>

### Isomorphism
Isomorphisms are functions that preserve partial order.

<MathBox title='Isomorphism' boxType='definition'>
Two partially ordered sets $\left(X, \leq_X\right)$ and $\left(Y, \leq_Y\right)$ are isomorphic if there is an injection $f:X\to Y$ such that for all $x, \tilde{x}\in X$

$$
  x\leq_X \tilde{x} \implies f(x)\leq_Y f(y)
$$

In this case, the function $f$ is an isomorphism.
</MathBox>

### Orders on product sets
<MathBox title='Product order' boxType='definition'>
Suppose that $\left\{S_i, \leq_i\right\}_{i\in I}$ is a collection of partially ordered sets for an index set $I$. The product order $\leq$ on the product set $S^I = \prod_{i\in I} S_i$ is defined as (for $x,y\in S^I$)

$$
  x\leq y \iff \forall i\in I: x_i\leq_i y_i
$$
</MathBox>

<MathBox title='Lexicographic order' boxType='definition'>
Suppose that $\left\{S_i, \leq_i\right\}_{i\in I}$ is a collection of partially ordered sets for an index set $I$, and suppose that $\leq$ is a total order on $I$. The lexicographic order $\leq$ on the product set $S^I = \prod_{i\in I} S_i$ is defined as (for $x,y\in S^I$)

$$
  x < y \iff \exists j\in I : x_i = y_i, \; i< j \land x_j \leq_j y_j
$$
</MathBox>

## Equivalence relation

<MathBox title='Equivalence relation and quotient set' boxType='definition'>
An equivalence relation on a set $X$ is a binary relation $\sim$ that is reflexive, symmetric and transitive. Thus for all $a, b, c\in X$
1. reflexivity: $a \sim a$
2. symmetry: $a \sim b \iff b \sim a$
3. transitivity: $a \sim b \land b \sim c \implies a \sim c$

The notion of equivalence on elements of $X$ creates a natural partition of $X$ into subsets called equivalence classes containing all elements equivalent to each other. Formally, the equivalence class of an element $x \in X$ under $\sim$ is defined as the set

$$
  [x]_\sim := \{ y \in X : y \sim x \}
$$

The set of all equivalence classes of $X$ under $\sim$ is called the quotient set of $X$ by $\sim$ and is the defined as

$$
  X/\sim := \{[x]_\sim : x \in X \}
$$
</MathBox>

<MathBox title='Equivalence relation on collection of sets' boxType='proposition'>
Suppose $\mathcal{S}$ is collection of sets. Define a relation $\sim$ on $\mathcal{S}$ by $A\sim B$ for $A, B\in\mathcal{S}$ if and only if there is a bijection $f: A\to B$. The relation $\sim$ is an equivalence relation on $S$ satisfying for $A, B, C\in\mathcal{S}$
1. reflexivity: $A\sim A$
2. symmetry: $A\sim B \implies B\sim A$
3. transitivity: $A\sim B \land B\sim C \implies A\sim C$

<details>
<summary>Proof</summary>

**(1) Reflexivity**
The identity function $\mathrm{id}_A : A \to A$ given by $x\mapsto x$ for $x\in A$ is bijection on $A$, and hence $A\sim A$

**(2) Symmetry**
If $A\sim B$ then there is a bijection $f:A\to B$. Since $f$ is bijective, then $f^{-1}:B\to A$ is a bijection, and hence $B\sim A$

**(3) transitivity**
Suppose that $A\sim B$ and $B\sim C$. Then there exists bijections $f:A\to B$ and $g:B\to C$. Since $f$ and $g$ are bijective, the composition $g\circ f: A\to C$ is also a bijection, and hence $A\sim C$
</details>
</MathBox>

<MathBox title='Properties of equivalence relations' boxType='proposition'>
Let $\sim$ be an equivalence relation on a set $S$. Then for $x, y\in S$, the following properties hold
1. If $x\sim y$ then $[x] = [y]$
2. If $x\not\sim y$ then $[x]\cap[y] = \emptyset$
</MathBox>

<MathBox title='Functions induce equivalence relations' boxType='proposition'>
Let $f:X\to Y$ be a function. Define the relation $\sim$ on $S$ by $x\sim y$ if and only if $f(x) = f\left(\tilde{x}\right)$ for all $x, \tilde{x}\in X$. Then
1. the relation $\sim$ is an equivalence relation on $X$
2. the quotient set of $X$ under $\sim$ is $X\setminus\sim := \left\{ f^{-1}[y] \mid y \in \mathrm{ran}(f) \right\}$
3. the function $F:X\setminus\sim\to Y$ defined by $F([x]) = f(x)$ is well defined and is injective.
4. if $f$ is injective, then $\sim$ is the equality relation, and hence $[x] = \{x\}$ for each $x\in X$
5. if $f$ is constant, then $\sim$ is the trivial relation, and hence $X$ is the only equivalence class

<details>
<summary>Proof</summary>

**(1)**: It is trivial to show that $\sim$ is reflexive, symmetric and transitive.
- reflexivity: for all $x\in X$ then $f(x) = f(x)$ so $x\sim x$
- symmetry: if $x\sim \tilde{x}$ for all $x, \tilde{x}\in X$, then $f(x) = f\left(\tilde{x}\right)$ so trivially $f\left(\tilde{x}\right) = f(x)$ and hence $\tilde{x}\sim x$ 
- transitivity: if $x\sim \tilde{x}$ and $\tilde{x}\sim\tilde{\tilde{x}}$ for all $x, \tilde{x}, \tilde{\tilde{x}}\in X$, then $f(x) = f\left(\tilde{x}\right)$ and $f\left(\tilde{x}\right) = f\left(\tilde{\tilde{x}\right)$ so trivially $f(x) = f\left(\tilde{\tilde{x}}\right)$ and hence $x\sim\tilde{\tilde{x}}$ 

**(2)**: Recall that $y\in\mathrm{ran}(f)$ if and only if $f(x) = y$ for some $x\in X$. Then by definition, $[x] = f^{-1}[y] = \left\{\tilde{x}\in X\mid f\left(\tilde{x}\right) = y\right\} = \left\{ \tilde{x}\in X \mid f\left(\tilde{x}\right) = f(x) \right\}$ 
</details>
</MathBox>

<MathBox title='Proposition' boxType='proposition'>
Suppose that $\sim$ is an equivalence relation on a set $S$. Define $f:S\to\mathcal{P}(S)$ by $f(x) = [x]$. Then $\sim$ is the equivalence relation associated with $f$

<details>
<summary>Proof</summary>

By definition then $x\sim y$ if and only if $[x] = [y]$ for all $x,y \in S$, which is equivalent to $f(x) = f(y)$. Hence, $\sim$ is an equivalence relation on $f$.
</details>
</MathBox>

<MathBox title='Intersections of equivalence relations' boxType='proposition'>
Suppose that $\sim$ and $\approx$ are equivalence relations on a set $S$. Let $\equiv$ denote the intersection of $\sim$ and $\approx$, i.e. $x\equiv y$ if and only if $x\sim y$ and $x\approx y$ for $x, y \in S$. Then
1. $\equiv$ is an equivalence relation on $S$
2. $[x]_\equiv = [x]_\sim \cap [x]_\approx$
</MathBox>

<MathBox title='Construction of equivalence relation' boxType='proposition'>
Suppose that $\leq$ is a relation on a set $S$ that is reflexive and transitive. Define the relation $\sim$ on $S$ by $x\sim y$ if and only if $x\leq y$ and $y\leq x$ for all $x, y\in S$. Then
1. $\sim$ is an equivalence relation on $S$
2. if $A$ and $B$ are equivalence classes and $a\leq b$ for some $a\in A$ and $b\in B$, then $x\leq y$ for all $x\in A$ and $y\in B$
3. define the relation $\leq$ on the quotient set $S\setminus\sim$ by $A\leq B$ if and only if $a\leq b$ for all $a\in A$ and $b\in B$. Then $\leq$ is a partial order on $S\setminus\sim$
</MathBox>

# Functions

<MathBox title='Function' boxType='definition'>
A subset $G_f \subseteq X \times Y$ is called a function if

$$
  \forall x \in X, \;\forall y, \tilde{y} \in Y \quad (x, y) \in G_f \lor (x, \tilde{y}) \in G_f \implies y = \tilde{y}
$$

meaning that there is a binary relation that associates to each $x \in X$ exactly one $y \in Y$. If also $\forall x \in X: \exists y \in Y: (x, y) \in G_f$ then $f: X \to Y$ and $x\mapsto f(x) = y$ for $(x, y) \in G_f$ defines a function from $X$ to $Y$ where

- $X$ is the domain of $f$
- $Y$ is the codomain of $f$
- $G_f$ is the graph of $f$

Functions are also called maps or mappings. Generally, the set of all functions from $X$ into $Y$ is denoted $X^Y$
</MathBox>

<MathBox title='Identity function' boxType='definition'>
The identity function on a set $X$ is the function $\mathrm{id}_X: X \to X$ defined by $x \mapsto x$.
</MathBox>

<MathBox title='Function properties' boxType='proposition'>
A function $f: X \to Y$ is called
- Injective (one-to-one): Each $y \in Y$ is mapped to by at most one $x \in X$.
    - $\forall x, x' \in X,\; f(x) = f(x') \implies x = x'$
- Surjective (onto): Each $y \in Y$ is mapped to by at least one $x \in X$, i.e. $Y = \mathrm{Ran}(f)$
    - $\forall y \in Y,\; \exists x \in X$ such that $y = f(x)$
- Bijective (invertible): Each $y \in Y$ is mapped to by exactly one $x \in X$ (both injective and surjective), i.e. there is an inverse map $f^{-1}: Y \to X$ defined by $f^{-1}(y) := x \implies f(x) = y$
</MathBox>

## Operators

<MathBox title='Operation' boxType='definition'>
An $n$-ary operation $f$ from $(X_i)_{i=1}^{n\in\mathbb{N}}$ to $Y$ is a function 

$$
  f: \prod_{i=1}^n X_i \to Y
$$

Suppose that $f$ is an $n$-ary operator on a set $S$ and $A\subset S$. Then $A$ is closed under $f$ if $a \in A^n$ implies $f(a) \in A$.
</MathBox>

<MathBox title='Properties of binary operators' boxType='definition'>
Suppose that $f$ and $g$ are binary operators on a set $S$ and $x, y, z \in S$. Then the following properties can be defined
1. $f$ commutes if $f(x, y) = f(y, x)$, i.e. $xfy = yfx$
2. $f$ is associative if $f(x, f(y, z)) = f(f(x, y), z)$, i.e. $xf(yfz) = (xfy)fz$
3. $g$ distributes left over $f$ if $g(x, f(y, z)) = f(g(x,y), g(x, z))$, i.e. $xg(yfz) = (xgy)f(xgz)$
</MathBox>

## Restrictions

<MathBox title='Restricted function' boxType='definition'>
Consider a function $f: X\to Y$ and a subset $A\subseteq X$. The restriction of $f$ to $A$ is the function $f|_A: A\to Y$ defined by

$$
  f|_A := \{(x, y) \in f \mid x\in A \}
$$

The image $f[A]$ is the range of $f|_A$.
</MathBox>

## Images
<MathBox title='Function subsets' boxType='proposition'>
A function $f:X\to Y$ generates the following subsets
- Range: $\mathrm{Ran}(f) := \left\{ y \in Y \mid \exists x \in X : f(x) = y \right\} = \{ f(x) \mid x \in X \}$
- Image: $f[\tilde{X}] := \left\{ y \in Y \mid \exists x \in \tilde{X} : f(x) = y \right\} = \{ f(x) \mid x \in \tilde{X} \}$ for $\tilde{X} \subseteq X$
- Preimage: $f^{-1}[\tilde{Y}] := \left\{ x \in X \mid f(x) = \tilde{Y} \right\}$ for $\tilde{Y} \subseteq Y$

Images are also called forwards images, while preimages are also called inverse images.
</MathBox>

<MathBox title='Relation of images' boxType='proposition'>
Consider the function $f: X\to Y$ and the subsets $A\in X$ and $B\in Y$.
1. $A\subseteq f^{-1}[f(A)]$. Equality holds if $f$ is injective.
2. $f[f^{-1}(B)]\subseteq B$. Equality holds if $f$ is surjective.
</MathBox>

<MathBox title='Properties of images' boxType='proposition'>
Consider a function $f:X\to Y$ and the subsets $A, B\subseteq X$. Then
1. $f[A\cup B] = f[A]\cup f[B]$
2. $f[A\cap B] \subseteq f[A]\cap f[B]$. Equality holds if $f$ is injective.
3. $f[A]\setminus f[B]\subseteq f[A\setminus B]$. Equality holds if $f$ is injective.
4. If $A\subseteq B$, then $f[A]\subseteq f[B]$.

Property 1 and 2 hold for arbitrary unions and intersections, respectively. Consider a collection of subsets $\{A_i \subseteq X \;|; i\in I\}$ for an index set $I$. Then
a. $f\left[\bigcup_{i\in I} A_i\right] = \bigcup_{i\in I} f\left[A_i \right]$
b. $f\left[\bigcap_{i\in I} A_i\right] \subseteq \bigcap_{i\in I} f\left[A_i \right]$. Equality holds if $f$ is injective.
</MathBox>

<MathBox title='Properties of preimages' boxType='proposition'>
Consider a function $f:X\to Y$ and the subsets $A, B\subseteq Y$. Then
1. $f^{-1}[A\cup B] = f^{-1}[A]\cup f^{-1}[B]$
2. $f^{-1}[A\cap B] \subseteq f^{-1}[A]\cap f^{-1}[B]$
3. $f^{-1}[A\setminus B] = f^{-1}[A]\setminus f^{-1}[B]$
4. If $A\subseteq B$, then $f^{-1}[A]\subseteq f^{-1}[B]$
5. If $A$ and $B$ are disjoint, so are $f^{-1}[A]$ and $f^{-1}[B]$

Property 1 and 2 hold for arbitrary unions and intersections, respectively. Consider a collection of subsets $\{A_i \subseteq Y \;|; i\in I\}$ for an index set $I$. Then
a. $f^{-1}\left[\bigcup_{i\in I} A_i\right] = \bigcup_{i\in I} f^{-1}\left[A_i \right]$
b. $f^{-1}\left[\bigcap_{i\in I} A_i\right] \subseteq \bigcap_{i\in I} f^{-1}\left[A_i \right]$. Equality holds if $f$ is injective.
</MathBox>

## Indicator function
<MathBox title='Indicator function' boxType='definition'>
The indicator function of a subset $A\subseteq S$ is the function $\mathbf{1}_A: S\to\{0, 1 \}$ defined by
$$
    \mathbf{1}_A (x) := \begin{cases} 1,&\quad x\in A \\ 0,&\quad x\notin A \end{cases}
$$

If $f:S\to\{0, 1\}$ then $f$ is the indicator function of the set $A = f^{-1}[\{ 1 \}] = \{ x\in S \mid f(x) = 1 \}$
</MathBox>

<MathBox title='Properties of the indicator function' boxType='proposition'>
Consider the subsets $A, B\subseteq S$. Then
1. $\mathbf{1}_{A\cap B} = \mathbf{1}_{A}\mathbf{1}_{B} = \min\{\mathbf{1}_{A}, \mathbf{1}_{B}\}$
2. $\mathbf{1}_{A\cup B} = 1 - \left(1 - \mathbf{1}_{A}\right)\left(1 - \mathbf{1}_{B}\right) = \max\{\mathbf{1}_{A}, \mathbf{1}_{B}\}$
3. $\mathbf{1}_{A^c} = 1 - \mathbf{1}_A$
4. $\mathbf{A\setminus B} = \mathbf{1}_A\left(1 - \mathbf{1}_B\right)$
5. $A\subseteq B$ if and only if $\mathbf{1}_A \leq \mathbf{1}_B$

Property 1 and 2 extends to arbitrary intersections and unions, respectively. Consider the collection of subsets $\{A_i \subseteq S \mid i\in I\}$ for some index set $I$. Then
1. $\mathbf{A}_{\bigcap_{i\in I} A_i} = \prod_{i\in I} \mathbf{1}_{A_i} = \min\{\mathbf{1}_{A_i} \mid i\in I\}$
2. $\mathbf{A}_{\bigcup_{i\in I} A_i} = 1 - \prod_{i\in I} \left(1 - \mathbf{1}_{A_i}\right) = \max\{\mathbf{1}_{A_i} \mid i\in I\}$
</MathBox>

## Composition

<MathBox title='Composition' boxType='definition'>
Consider two functions $g: X \to Y$ and $f: Y \to Z$. The composition of $f$ with $g$ is the function $f\circ g: X\to Z$ defined by 

$$
  (f\circ g)(x) := f(g(x)),\quad x\in X
$$
</MathBox>

<MathBox title='Properties of compositions' boxType='proposition'>
Consider three functions $h: W \to X$, $g: X \to Y$ and $f: Y \to Z$. Then the following properties hold
1. Associativity: $f\circ (g\circ h) = (f\circ g)\circ h$
2. Preservation of injectivity: if $f$ and $g$ are injective, then so is $f\circ g$
3. Preservation of surjectivity: if $f$ and $g$ are surjective, then so is $f\circ g$
4. Preservation of bijectivity (invertibility): if $f$ and $g$ are bijective, then so $f\circ g$ with the inverse $(f\circ g)^{-1} = g^{-1}\circ f^{-1}$

<details>
<summary>Proof</summary>

**1. Associativity**
Note that both $f\circ (g\circ h)$ and $(f\circ g)\circ h$ map $W$ into $Z$. Using the definition of compositons, we have for $w\in W$ that

$$
\begin{gather*}
  (f\circ (g \circ h))(w) &= f((g\circ h)(w)) = f(g(h(x))) \\
  ((f\circ g)\circ h)(w) &= (f\circ g)(h(w)) = f(g(h(x))) \\
  \implies f\circ (g\circ h) = (f\circ g)\circ h
\end{gather*}
$$

**2. Preservation of injectivity**
Suppose that $\left(x, \tilde{x}\right)\in X$ and $(f\circ g)(x) = (f\circ g)\left(\tilde{x}\right)$. Then $f(g(x)) = f\left(g\left(\tilde{x}\right)\right)$. Since $f$ is injective, $g(x) = g\left(\tilde{x}\right)$. Since $g$ is injective, $x = \tilde{x}$.

**3. Preservation of surjectivity**
Suppose that $z \in Z$. Since $f$ is surjective, there exists $y\in Y$ with $f(y) = z$. Since $g$ is surjective, there exists $x\in X$ with $g(x) = y$. Then

$$
  (f\circ g)(x) = f(g(x)) = f(y) = z
$$

**4. Preservation of bijectivity**
The bijectivity of $f\circ g$ follows from the preservation of injectivity and surjectivity. To show $(f\circ g)^{-1} = g^{-1}\circ f^{-1}$, let $x = (f\circ g)^{-1}(z)\in X$ for $z\in Z$. Then $(f\circ g)(x) = z$ so that $f(g(x)) = z$ and hence $g(x) = f^{-1}(z)$ and finally $x = g^{-1}\left(f^{-1}(z)\right) = \left(g^{-1}\circ f^{-1}\right)(z)$.
</details>
</MathBox>

<MathBox title='Proposition' boxType='proposition'>
Consider a function $f: X\to Y$. Then

$$
\begin{gather*}
  f \circ \mathrm{id}_Y = f  \\
  \mathrm{id}_X \circ f = f
\end{gather*}
$$
</MathBox>

<MathBox title='Proposition' boxType='proposition'>
Consider a bijective function $f: X\to Y$. Then

$$
\begin{gather*}
  f \circ f^{-1} = \mathrm{id}_Y \\
  f^{-1} \circ f = \mathrm{id}_X
\end{gather*}
$$
</MathBox>